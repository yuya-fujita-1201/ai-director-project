# App Storeの申請まで全部AIにやらせた ― 審査提出までの72時間

> 想定読者: AIでアプリ開発に興味がある人、Coworkなどのツールでアプリを作ってみたい人
> 価格: ¥500
> 文字数目安: 約8,000文字

---

## 「審査に送信」ボタンが怖かった

Day 7の深夜2時。

App Store Connectの画面に、青いボタンがある。「審査に送信」。

押したら、自分のアプリが世界中に公開される審査に回される。Appleの審査員が、自分のアプリを触って、チェックして、「OK」か「ダメ」を判断する。

1週間前、自分はFlutterという言葉すら知らなかった。コードは1行も書いていない。全部AIに書いてもらった。それを、App Storeに出そうとしている。

怖い。でも「怖いからやめよう」はこのプロジェクトにはない。AI監督が「7日目に審査に出す」と決めたのだ。従うしかない。

ボタンを押した。

あとはAppleが決める。

---

## Day 5：「使えるアプリ」が「欲しいアプリ」に変わった日

Day 4までで機能は全部揃っていた。カメラ撮影、AI分析、お気に入り保存、課金。「動くアプリ」は完成していた。

でも「動く」と「欲しい」は違う。

Day 5でやったのは、見た目の仕上げだ。Claude Code（エンジニアAI）に「デザインを良くして」と頼んだ。

返ってきた回答が具体的だった。「ティール（青緑色）をブランドカラーにして全画面を統一しましょう」と。自分は「ティール」という色の名前すら知らなかった。

**カラーテーマの統一** ― ティール系（#0097A7）をブランドカラーに。ボタン、アプリバー、バッジ、タブバー、全部この色で統一。

**オンボーディング画面** ― 初めてアプリを開いた人に「撮って → 学んで → 続けて」と3ステップで説明する画面。スワイプで切り替わる。

**撮影ボタンのアニメーション** ― ホーム画面中央のカメラボタンが、ゆっくりと脈打つように動く。「押して」と言わんばかりに。

**アプリアイコン** ― ティール背景にカメラとABCの吹き出し。1024×1024ピクセルで、iOSの全サイズに自動生成。

言葉にすると「色を変えてアニメーションを付けた」だけだ。でもこれだけでアプリの印象がガラッと変わった。「素人の試作品」が「ちゃんとしたアプリ」に見えるようになった。

---

## Day 6：コード0行の「書類仕事」の日

Day 6はコードを1行も書いていない。

何をしていたかというと、App Storeに提出するための「書類」を全部準備していた。Cowork（事務員AI）に「Day 6の素材を全部作って」と頼んだ。

出てきたもの：

**説明文（日本語・英語）** ― App Storeの説明文には文字数制限がある。日本語版と英語版、両方必要。

**キーワード** ― App Storeの検索で見つけてもらうための単語。100文字以内に収める制約がある。日本語10語、英語10語。

**プライバシーポリシーと利用規約** ― HTMLページとして作って、インターネット上に公開する必要がある。Cloudflare Pagesで自動デプロイした。

**スクリーンショット5枚** ― App Storeに並ぶアプリ紹介画像。1290×2796ピクセルという指定サイズで。

全部AIが作った。自分はレビューして「いいね」と言っただけ。

ここまでやって気づいたことがある。アプリ開発って、コードを書くことだと思っていた。でも実際は、コードは全体の半分。残りの半分は、こういう地味な書類仕事だった。

---

## Day 7：最終レビューで見つかった「一発リジェクト」級のバグ

Day 7の朝。まず最初にやったのは、コードの最終チェックだ。

Claude Code（エンジニアAI）に「全ファイルを見直して、問題があれば報告して」と頼んだ。Dartファイル20個、約9,000行を全部チェックしてもらった。

結果：**CRITICAL 3件、HIGH 4件、MEDIUM 7件、LOW 9件。** 合計23個の問題が見つかった。

CRITICALの3件がやばかった。

**バグ①：課金画面のリンクが「example.com」のまま。** 開発初期の仮URLが残っていた。これがそのまま審査に出ていたら、ほぼ確実にリジェクト。

**バグ②：データベースが壊れたら即クラッシュ。** SQLiteの初期化にtry-catchが入っていなかった。スマホの容量不足やファイル破損でアプリが起動しなくなる。

**バグ③：画像が消えたら白画面。** 撮影画像のファイルが何らかの理由で消えた場合、白画面になるバグ。errorBuilderを追加して、プレースホルダーアイコンを表示するように修正。

全部AIが見つけて、AIが修正した。自分がやったことは「最終チェックしてね」と頼んだだけ。

---

## 最大の壁：「ビルドしてアップロードする」が予想外に難しかった

コードの問題はAIが直してくれた。でも本当の壁はその先にあった。

**iOSアプリをApp Storeに出すには、MacのXcodeでビルドしてAppleのサーバーにアップロードする必要がある。**

問題は、Coworkが軽量なLinux VM上で動いていること。VMからはMacのローカル環境に直接アクセスできない。つまり、AIがコードを書く環境と、ビルドができる環境が物理的に分離している。

これをどう解決したか。Mac側に「中継サーバー」を立てた。

仕組みはシンプルだ。Mac上でNode.jsのサーバーを起動して、ngrokというトンネリングツールでインターネットからアクセスできるURLを作る。CoworkのVM内から、そのURLに「ビルドしてください」とHTTPリクエストを送る。Mac側のサーバーがリクエストを受け取り、ローカルでflutter buildやXcodeコマンドを実行する。

要するに、AIとMacの間に「伝書鳩」を置いた。

このパイプラインが一発で動くわけがなかった。**4回失敗して、5回目で成功した。**

1回目はAPIキーのパラメータ不足。2回目はXcodeのビルド設定ファイルの欠落。3回目はExportOptions.plistの不在。4回目はDistribution Provisioning Profileの未作成。

4回目で初めて、自分（人間）の手作業が必要になった。XcodeでRelease用の自動署名をONにして、Provisioning Profileを生成。In-App Purchaseのケイパビリティも手動で追加した。

5回目で全工程成功。flutter build → Archive → Export → Upload。App Store Connectの画面に「v1.0.0 (1) 処理中」の文字が現れた。

ここまでに丸1日かかった。

---

## App Store Connectの入力地獄

ビルドがアップロードできても、まだ審査には出せない。App Store Connectで入力しなければならない項目がたくさんある。

アプリ名、サブタイトル、カテゴリ、年齢制限、日英の説明文、キーワード、各種URL、スクリーンショット（iPhoneだけでなくiPadも必須）、審査連絡先、データプライバシーの申告、価格設定、コンテンツ配信権、ビルド選択……。

これもCoworkのブラウザ操作機能で、1項目ずつ自動入力していった。Day 6で準備していた素材があったから、入力自体は機械的にできた。

**一番ハマったのは「データプライバシー」の設定だ。** App Store Connectの画面上に「公開」ボタンがあるのだが、これを押さないと審査に進めない。しかもこのボタンが目立たない場所にある。AIがブラウザ操作で「審査に出せない」となったとき、原因を特定するのに30分かかった。

---

## 累計9,000行のコード、手書き0行

審査に出す前に、最終的なコード量を数えた。

Day 1（環境構築 + カメラ）：5,929行。Day 2（AI連携）：606行。Day 3（UI仕上げ + 保存）：1,270行。Day 4（課金 + 回数制限）：755行。Day 5（デザイン + オンボーディング）：420行。

**合計：約9,000行**。手書き：**0行**。

9,000行のコードが何をやっているのか、正直に言えば全体の3割くらいしか理解していない。でもアプリは動いている。analyzeも通っている。課金も設定されている。

---

## 振り返り：「設定地獄」が本当の敵だった

1週間やってみて、一番時間がかかったのはコードを書くことじゃなかった。

コードはAIが書いてくれる。バグもAIが見つけて直してくれる。デザインもAIが提案してくれる。

一番大変だったのは、「コードの外側」にある設定だ。Apple Developer Program。App Store Connect。RevenueCat。Provisioning Profile。ExportOptions.plist。データプライバシーの公開ボタン。iPadのスクリーンショット。

全部、コードとは関係のない「設定」だ。そしてこの設定の1つでも欠けていると、審査に出せない。

AIの時代になっても、この「設定地獄」は残る。いや、むしろAIがコードを全部書いてくれるようになったからこそ、相対的にこの設定作業のウェイトが大きくなっている。

**コーディングの民主化が進むほど、「設定力」が差になる時代が来ている。** そう感じた1週間だった。

---

*このプロジェクトの全記事はマガジンでまとめて読めます→ [AI監督プロジェクト ― 1週間アプリ開発記](https://note.com/marumi_works/m/mee0723eb1d8c)*

---

<!-- ここから有料 -->

## ここから先は「自分もやりたい人」向けの実践ガイド

ここまで読んで「面白そう、自分もやってみたい」と思った方へ。

ここから先では、Day 1〜7を通して蓄積した「Cowork（やClaude Code）でiOSアプリを作ってApp Storeに出すための実践ノウハウ」を書く。ストーリーではなく、再現するための情報だ。

具体的には以下の内容。

- Coworkへの指示文（プロンプト）の設計パターンと実例
- Cowork と Claude Code CLI の使い分け判断基準
- セッションを跨いでもAIが迷子にならないプロジェクト設計
- 「2回以上やる作業」をスキルファイルに落とし込む方法（実物つき）
- 「AIが苦手な領域」の見極め方と人間の介入ポイント
- App Store審査提出の全チェックリスト

---

## 指示文（プロンプト）の設計パターン

7日間で見えてきた法則がある。AIへの指示の出し方には、大きく3つのパターンがある。

### パターン①：丸投げ型

「Day 5のタスクを全部やって。」

これが意外と使える。ただし**条件がある**。丸投げが機能するのは、AIが参照できる「計画書」が事前に存在するときだけだ。

このプロジェクトでは、CLAUDE.mdというファイルに1週間のスケジュールと各Dayのタスクを書いておいた。AIはこのファイルを最初に読むので、「Day 5のタスクを全部やって」と言えば、CLAUDE.mdから該当タスクを拾って順番に実行してくれる。

計画書なしの丸投げは「何をすればいいですか？」と聞き返される。丸投げ型は「AIが自分で計画を読める状態」を先に作ることが前提。

### パターン②：段階指示型

「まずカメラ画面を作って。動いたら次はAI連携をやろう。」

1つの機能を実装 → 動作確認 → 次の指示、というサイクル。Day 1〜3のコーディングフェーズではこれが主力だった。

ポイントは「まず〇〇して」の「まず」。AIに全工程を一気にやらせると、途中でエラーが出たときの切り分けが困難になる。1ステップずつ進めて、各ステップの完了を確認してから次に進む。

地味だが、これが一番失敗しにくい。

### パターン③：制約付き自由型

「課金機能を実装して。RevenueCatを使って。月額400円。無料は1日3回まで。」

ゴールと制約だけ伝えて、実装方法はAIに任せる。Day 4の課金実装で使ったパターン。

重要なのは制約の具体性。「課金機能を作って」だけだと、AIは質問攻めにしてくるか、勝手に仕様を決めてしまう。でも「RevenueCat、月額400円、無料1日3回」と言えば、AIは迷わず実装に入れる。

**自由度を与えるほど、制約は具体的にする。** これが7日間で一番学んだことかもしれない。

### 実際に使った指示文の例

Day 1（環境構築）：

「Flutter環境を作って。アプリ名はsnap_english。カメラで撮影できる画面を作って、撮った写真を表示するところまで。」

Day 2（AI連携）：

「撮影した画像をClaude APIに送って、英語フレーズを3つ生成してもらう機能を追加して。APIキーは.envファイルから読む。フレーズはカード形式で表示して。」

Day 4（課金）：

「RevenueCatで月額サブスクリプションを実装して。Product IDはsnap_english_monthly_380。無料ユーザーは1日3回まで。有料はunlimited。Paywallのデザインもお願い。」

Day 6（App Store素材）：

「Day 6の素材を全部作って。」（← これが丸投げ型。CLAUDE.mdに「Day 6: App Storeスクショ・説明文・アイコン」と書いてあるので機能する）

共通しているのは、**技術スタックの指定は具体的に、デザインやUXの判断はAIに委ねている**こと。自分に知識がない領域ほど、AIの判断に任せた方がいい結果が出た。

---

## Cowork と Claude Code CLI の使い分け

このプロジェクトでは2つのAIツールを併用した。

**Cowork** ― ブラウザ操作、ファイル生成、画像作成、Note記事投稿、App Store Connectの入力自動化。「事務員」的な仕事。

**Claude Code CLI** ― Flutterのコーディング、ビルドエラーの修正、コードレビュー、テスト実行。「エンジニア」的な仕事。

判断基準はシンプル。**「ターミナルで完結するか、ブラウザが要るか」**。

ターミナルで完結する作業（flutter create, flutter analyze, コード編集）→ Claude Code CLI。ブラウザ操作が必要な作業（App Store Connect入力、RevenueCat設定、Note投稿）→ Cowork。

もう一つの判断軸は**ファイル生成**。Word文書、画像（Pillow）、HTML/CSS、Markdownの記事原稿など、「ファイルを作って出力する」系の作業はCoworkが得意。

逆に「既存のコードベースの中身を理解して修正する」作業はClaude Code CLIの方が精度が高い。コードベースのインデックスを持っているから。

### 実際の使い分け例

| Day | 作業内容 | ツール | 理由 |
|---|---|---|---|
| 1 | Flutter環境構築 + カメラ画面 | Claude Code CLI | ターミナル完結 |
| 2 | AI API連携コード | Claude Code CLI | コード編集 |
| 3 | UI調整 + お気に入り保存 | Claude Code CLI | コード編集 |
| 4 | RevenueCat設定 | Cowork | ブラウザでダッシュボード操作 |
| 4 | 課金コード実装 | Claude Code CLI | コード編集 |
| 5 | デザイン調整 + オンボーディング | Claude Code CLI | コード編集 |
| 5 | アプリアイコン生成 | Claude Code CLI | Pillow + ターミナル |
| 6 | App Store素材（説明文等） | Cowork | ファイル生成 |
| 6 | プライバシーポリシーHTML | Cowork | ファイル生成 + デプロイ |
| 7 | コードレビュー + バグ修正 | Claude Code CLI | コード解析 |
| 7 | ビルド + アップロード | 両方 | Cowork→中継サーバー→Mac |
| 7 | App Store Connect入力 | Cowork | ブラウザ操作 |
| 7 | Note記事執筆 + 投稿 | Cowork | ファイル生成 + ブラウザ操作 |

---

## プロジェクト設計：セッション跨ぎ問題の解決法

CoworkもClaude Code CLIも、セッション（チャット）が切れると直前までの文脈を忘れる。朝の自分が夜の自分に引き継ぎメモを書くようなものだ。

これを解決するために、3つのファイルを用意した。

### CLAUDE.md（プロジェクト全体の設計書）

AIが最初に読むファイル。アプリの概要、技術スタック、フォルダ構成、1週間のスケジュール、現在のステータスを記載。

**重要なのは「現在のステータス」セクション。** 各セッションの終了時に、そのセッションで何をやったかをここに追記するルールにした。次のセッションのAIがこのファイルを読めば、「Day 3まで完了、次はDay 4」とすぐわかる。

### CONTEXT.md（詳細コンテキスト）

CLAUDE.mdに書ききれない詳細情報。RevenueCatのAPIキー、App Store ConnectのApp ID、Bundle ID、各種設定値など。

これがないと、毎回「RevenueCatのAPIキーは何ですか？」とAIに聞かれることになる。

### logs/dayN.md（日別作業ログ）

各Dayのタスクをチェックリスト形式で管理。完了したら`[x]`にして日時を記入。

**ポイント：ファイルに書かれていないことは「やっていない」と見なされる。** チャットで「やったよ」と言っても、ファイルに記録しなければ次のセッションのAIは知らない。口頭のやり取りだけで完結させず、必ずファイルに残す。

この3ファイル体制は、人間同士のチーム開発でいう「Wiki + チケット管理」に相当する。AIをチームメンバーだと思えば、ドキュメントを整備するのは当然のことだ。

---

## スキルファイル：「2回やったらスキル化」の法則

このプロジェクトで5つのスキルファイルを作った。

スキルファイルとは、特定の作業手順をMarkdownにまとめたファイルだ。AIがこのファイルを読むことで、過去の試行錯誤を繰り返さずに同じ作業を再現できる。

### 作ったスキル一覧

**note-posting-browser** ― noteエディタへの記事投稿手順。ProseMirrorエディタへのHTMLペースト方法、公開設定の操作手順など。

**note-header-upload** ― noteの見出し画像アップロード手順。VM上の画像をtmpfiles.org経由でブラウザに転送し、Chrome拡張でfile inputに注入する方法。

**note-header-image-gen** ― 見出し画像のPillow生成テンプレート。フォント設定、デュアルフォント描画（日本語+英数字混在対応）、レイアウト構成のコード。

**app-store-connect-browser** ― App Store Connectのブラウザ操作手順。メタデータ入力、ビルド選択、審査提出までの手順。

**revenuecat-browser** ― RevenueCatダッシュボードの設定手順。プロダクト作成、エンタイトルメント設定、APIキー取得までの手順。

### なぜスキルファイルが必要か

たとえばNote記事の投稿。1回目は試行錯誤の連続だった。noteのエディタがProseMirrorベースだと知らず、Markdownをそのまま貼り付けて書式が崩れた。HTMLペーストの方法を発見するまでに何度もやり直した。

2回目の投稿では、1回目の知見をスキルファイルにまとめておいたので、AIがファイルを読んで一発で成功した。

**「2回以上やる作業は、1回目の終了時にスキルファイルを作る」** ― これがこのプロジェクトで確立したルール。

### 見出し画像生成スキルの中身（一部抜粋）

実際のスキルファイルがどういうものか、見出し画像生成スキルの要点を公開する。

noteの見出し画像は1280×670pxが推奨。Linux VM上のPillowで生成する場合、日本語と英数字が混在するテキストでは1つのフォントだと片方が□（豆腐）になる。そこで文字ごとにフォントを切り替える「デュアルフォント描画」が必要になる。

```
文字ごとにis_cjk判定 → CJKならDroidSansFallbackFull.ttf、LatinならDejaVuSans-Bold.ttf
各文字の幅を個別に計測して合算 → 中央揃えのx座標を計算
1文字ずつ描画位置をずらしながらdraw.text()
```

デザイン原則として「四隅に余計なものを入れない」「テキストは中央にフォーカス」「メインタイトルは140px以上」を守る。noteのOGPサムネイルは小さく表示されるため、文字が小さいと読めない。

こういうノウハウが7日間で貯まっていくわけだが、スキルファイルに書いておかないと、次のセッションでまたゼロから試行錯誤することになる。

---

## 「AIが苦手な領域」の見極め方

7日間で明確にわかったのは、AIには得意なことと苦手なことがあるということだ。

### AIが得意なこと（完全に任せてOK）

**コード生成。** Flutter/Dartのコードを9,000行書いたが、手直しはほぼ不要だった。特にUI構築（ウィジェットの配置、色の設定、アニメーション）は人間がやるより速くて正確。

**バグの発見と修正。** Day 7の最終レビューで23件のバグを発見したのは全てAI。CRITICAL 3件を含む全件を自力で修正した。

**定型文書の生成。** App Storeの説明文、プライバシーポリシー、利用規約、キーワードリスト。テンプレートに沿った文書はAIの独壇場。

### AIが苦手なこと（人間の介入が必要）

**Apple Developer Programのアカウント作成。** 本人確認、2要素認証、支払い情報の入力。これは人間がやるしかない。

**Provisioning Profileの生成。** Xcodeの署名設定は、Appleアカウントとの紐付けが必要で、AIが直接操作できない領域がある。

**「目立たないボタン」の発見。** App Store Connectのデータプライバシー「公開」ボタンのように、UIの構造的にAIが認識しにくい要素がある。AIがブラウザ操作で「なぜか先に進めない」と言ったら、画面を一緒に見てあげるのが一番早い。

**ビルド環境の構築。** Xcode、CocoaPods、署名証明書など、macOSローカルの環境構築はAI単独では困難。中継サーバーを作ったのもこの制約を回避するため。

### 判断基準

「この作業、AIに任せて大丈夫？」の判断基準は一つ。**「テキストベースで完結するか」**。

テキストの入力・編集・生成で完結する作業 → AIに任せてOK。物理デバイスの操作、生体認証、ローカル環境の設定 → 人間がやる。

---

## App Store審査提出の全チェックリスト

最後に、実際にApp Store審査に提出するまでの全チェックリストを載せておく。

### 事前に必要なもの（人間が準備）
- Apple Developer Program（年間$99）
- Mac（Xcodeが動くもの）
- Apple ID（開発者アカウントと紐付け）

### コード完成後にやること
- flutter analyze でエラーゼロを確認
- 全画面の動作確認（シミュレータ or 実機）
- 課金画面の利用規約・プライバシーポリシーURLが本番URLか確認
- エラーハンドリングの有無（DB初期化、ネットワーク、ファイルIO）
- アプリアイコンの設定（1024×1024px）

### App Store Connect側の準備
- アプリ登録（名前、Bundle ID、SKU）
- 説明文（日本語＋英語）
- キーワード（各100文字以内）
- スクリーンショット（iPhone 6.5インチ × 最低3枚、iPad 13インチ × 最低1枚）
- プライバシーポリシーURL（公開済みのWebページ）
- サポートURL
- 年齢制限の設定
- データプライバシーの設定 → **「公開」ボタンを必ず押す**
- 価格設定
- コンテンツ配信権の設定

### 課金アプリの場合の追加作業
- サブスクリプション商品の作成（App Store Connect）
- RevenueCat等の課金管理サービスの設定
- 「購入を復元する」ボタンの実装
- P8キーの発行とRevenueCatへのアップロード

### ビルド＆アップロード
- flutter build ios --release
- Xcode Archive
- ExportOptions.plistの作成
- Provisioning Profileの生成
- xcrun altool または Xcode Organizer でアップロード
- App Store Connect でビルド処理完了を確認
- ビルドを審査バージョンに紐付け

### 最後に
- 「審査に送信」ボタンを押す

---

*このプロジェクトの全記事はマガジンでまとめて読めます→ [AI監督プロジェクト ― 1週間アプリ開発記](https://note.com/marumi_works/m/mee0723eb1d8c)*

---

## この記事で起きたこと（チェックリスト）

- ✅ Day 5: テーマカラー統一（ティール系）+ オンボーディング + アプリアイコン
- ✅ Day 6: App Store説明文・キーワード・プライバシーポリシー・利用規約・スクショ全作成
- ✅ Day 7: コード最終レビュー → CRITICAL 3件含む23件のバグを発見・修正
- ✅ 中継サーバー経由で flutter build → Archive → Export → Upload成功
- ✅ App Store Connectのメタデータ全入力（AIブラウザ操作）
- ✅ 累計コード約9,000行（全てAI生成、手書き0行）
- ✅ App Store審査提出完了
- 🔜 次回：審査結果 + DL数・売上・Note記事収益の全公開
